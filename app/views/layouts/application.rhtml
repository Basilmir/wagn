<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  <%= render :partial=>'layouts/head' %>
  <body class="wagn">
	  <%# FIXME: the body has a css identifier because the wikiwyg editor has a different "body", currently sans identifier.  Kind of a hack, but it means that we can set defaults for wagn pages that are different from defaults for html within a card.  One shallow issue is that 'wagn' should be an id, not a class, but that will break lots of local.css files, so we should be deliberate about changing this. %>	
	  		
	  <%= render :partial=>'layouts/top_menu' %>

    <div id="page">

  	  <div id="page-left">
  			<div id="main" context="main"><%= yield %></div>
  		</div>  

  	  <div id="page-right">
  		  <%= render :partial=>'layouts/logo' %>

  			<div id="sidebar" context="sidebar">
  				<% if sidebar_card = CachedCard.get_real("*sidebar")  %>
  					<%= WagnHelper::Slot.new(sidebar_card, "sidebar_1", "view", self).render(:raw) %>
  				<% end %>
  				<%= render :partial=>'admin/navigation' %><%# FIXME: move this into a card somehow? %>			  
  			</div>
		
  	    <%= render :partial=>'layouts/bottom_menu' %>
  	    <%= render :partial=>'layouts/alerts' %>
    	  
  		</div>
  	</div>

	  <%= render :partial=>'layouts/foot' %>


  </body>
</html>

