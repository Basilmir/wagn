<%-
  cards   ||= []
	duplicates ||= []
  context ||= 'default'
  title   ||= ''
  instruction ||= nil  
	view  ||= :closed    
	raise("invalid view") unless [:open, :closed, :content, :name, :link, :change].include?(view)
	
-%>

<% paging = capture do %>
  <%= render :partial=>'/block/paging', :locals=>{:card=>card} %>
<% end %>

<% if !title.empty? %> 
	<% @title=title %>
  <h1><%= title %></h1>
<% end %>       

<% if instruction %>
  <div class="instruction">
    <p><%= instruction %></p>
  </div>
<% end %>

<% if cards.empty? %>
  <div class="search-no-results faint">Search returned no results</div>
<% else %>    
	<span class="search-result-list">
	  <%= paging %>
		<% cards.each do |c| %>     	
			<span class="item-<%= view %>"><%= get_slot(c).render(view) %></span>
		<% end %>     
	  <%= paging %>
	</span>
<% end %>



